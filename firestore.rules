rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // Notes & MCQ sets - require authenticated client, or remove auth requirement for public
    match /notes/{noteId} {
      allow read: if true;   // change to `if request.auth != null` to restrict
      allow write: if false;
    }

    match /mcqSets/{mcqId} {
      allow read: if true;
      allow write: if false;
    }

    // Notifications - allow read publicly so header popover works if it ever reads directly
    match /custom_notifications/{notifId} {
      allow read: if true;
      allow create: if false;
      allow update, delete: if false;
    }

    // Admin config - make read true (so your admin page can fetch admin code)
    match /adminConfig/{doc} {
      allow read: if true;
      allow update: if false;
      allow create, delete: if false;
    }

    // Deny everything else
    match /{document=**} {
      allow read, write: if false;
    }
  }
}